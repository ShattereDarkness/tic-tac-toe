<html>
    <!-- have a button POST a click via AJAX -->
    <head>
        <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
        <script src="https://unpkg.com/htmx.org@2.0.3"></script>
        <link rel="stylesheet" href="/static/styles.css"/>
    </head>
    <body x-data="{state: {{ .state }}}">
        <div id="title">
            <h1>Tic Tac Toe</h1>
        </div>
        <div class="board">
            <template x-for="i in 3">
                <div class="column" >
                    <template class="row"  x-for="j in 3">
                        <div x-data="{id: 3 * (i - 1) + j - 1}">
                            <button 
                                hx-post="/action" 
                                hx-target="body" 
                                class="text" 
                                :hx-include="'#hidden-' + id"
                                x-text="state[id]"
                                x-effect="state;htmx.process($el)"
                                >
                            </button>
                            <input type="hidden" :value="id" name="cell-id" :id="'hidden-' + id">
                        </div>
                    </template>
                </div>
            </template>
        </div>
    </body>
</html>